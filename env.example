# =============================================================================
# MASX AI ETL CPU Pipeline - Environment Configuration Template
# =============================================================================
# Copy this file to .env and fill in your actual values
# cp env.example .env

DEBUG=false

# =============================================================================
# FASTAPI CONFIGURATION --- mail to ab@masxai.com
# =============================================================================
# API key for FASTAPI SERVICE authentication
API_KEY=api_key_here
REQUIRE_API_KEY=true


# =============================================================================
# SUPABASE CONFIGURATION
# =============================================================================
# Get these from your Supabase project dashboard
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_ANON_KEY=your_supabase_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here
SUPABASE_IMAGE_BUCKET=your_image_bucket_name
SUPABASE_DB_PASSWORD=your_supabase_db_password
SUPABASE_DB_URL=postgresql://postgres:password@db.your-project-id.supabase.co:5432/postgres

# =============================================================================
# DATABASE CONFIGURATION (Alternative/Test Database)
# =============================================================================
# Use these if you want to connect to a separate PostgreSQL database
DB_HOST=localhost
DB_PORT=5432
DB_NAME=your_database_name
DB_USER=your_database_user
DB_PASSWORD=your_database_password

# Database Connection Pool Settings
DATABASE_MAX_CONNECTIONS=10
DATABASE_MIN_CONNECTIONS=1

# =============================================================================
# PROXY CONFIGURATION
# =============================================================================
# Optional: For proxy services
PROXY_API_KEY=your_proxy_api_key_here
PROXY_BASE=https://your-proxy-service.com
PROXY_POST_START_SERVICE=/api/start
PROXY_GET_PROXIES=/api/proxies

# =============================================================================
# PIPELINE CONFIGURATION
# =============================================================================
# Performance tuning
PROCESS_ARTICLES_LIMIT = 1 # 0: process all else any num is max prosess_articles
MAX_WORKERS=32
BATCH_SIZE=100
REQUEST_TIMEOUT=30
RETRY_ATTEMPTS=3
RETRY_DELAY=1.0

# =============================================================================
# PROCESSING CONFIGURATION
# =============================================================================
# Feature toggles
ENABLE_IMAGE_SEARCH=true
ENABLE_GEOTAGGING=true
CLEAN_TEXT=true
MAX_ARTICLE_LENGTH=50000

# Image processing settings
ENABLE_IMAGE_DOWNLOAD=true
IMAGE_DOWNLOAD_MAX_CONCURRENCY=4
IMAGE_DOWNLOAD_MAX_BYTES=5242880
SUPABASE_USE_SIGNED_URLS=false
SUPABASE_SIGNED_URL_EXPIRY=3600

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
# FastAPI server settings
HOST=0.0.0.0
PORT=8000


# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
# Logging levels: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO
LOG_FORMAT=json

# =============================================================================
# NOTES
# =============================================================================
# 1. All boolean values should be lowercase: true/false
# 2. All numeric values should be integers or floats without quotes
# 3. String values should be quoted if they contain spaces
# 4. Supabase configuration is required for the application to work
# 5. Database configuration is optional if using Supabase
# 6. API keys are optional but recommended for better functionality
# 7. Proxy configuration is optional for enhanced scraping capabilities